<div class="row justify-content-center align-items-center page-animation">
  <div class="col-lg-11 col-12 mt-3">
    <div class="row pb-0">
      <button
        class="btn btn-primary"
        id="togglefilter"
        data-toggle="collapse"
        aria-expanded="false"
        href="#filterView"
      >
        Filter<i class="fa fa-filter hover-none ml-2" aria-hidden="true"></i>
      </button>
      <div class="row w-100 mx-0">

       
      <div class="row mx-0 my-3 collapse w-100" id="filterView">
    
        <div class="col-5 pt-2 mt-3">
          <div class="form-group">
            <input
              type="text"
              class="floating-input form-control input-label"
              placeholder="Vendor Name"
              name="first_name"
              [(ngModel)]="filter.VendorName"
              #name="ngModel"
              (keypress)="onKeypressEvent($event)"
            />
          </div>
        </div>
        <div class="col-5 pt-2 mt-3">
          <div class="form-group">
            <input
              type="text"
              class="floating-input form-control input-label"
              placeholder="Vendor Email"
              name="first_name"
              [(ngModel)]="filter.CPPhone"
              #contactEmail="ngModel"
              (keypress)="onKeypressEvent($event)"
            />
          </div>
        </div>

        <div class="col-2 mt-3">
          <button
            type="button"
            class="btn btn-primary"
            (click)="getAllVendors()"

    
          >
            Apply
          </button>
          <u class="mx-4 primary-color mt-3 font-16 cursor" 
            (click)="clearFilters()"
    
            >Clear</u
          >
        </div>
      </div>
        <hr class="w-100" />
        <h4 class="sub-heading">Vendors List</h4>
      </div>
      <!-- <h1 class="mt-4 text-center primary-color">Vendors List</h1> -->
      <div class="row w-100">

          <div
            class="row w-100 justify-content-center mt-4"
            *ngIf="
              vendorArray == undefined ||
              (vendorArray != undefined && vendorArray.length == 0)
            "
          >
            <div class="col-lg-12 no-record-error">No record found!</div>
          </div>

          <ng-container
            *ngIf="vendorArray != undefined && vendorArray.length > 0"
          >
            <div class="row">
              <div
                class="col-lg-4 col-md-6 col-sm-6 mb-card card-responsive"
                *ngFor="
                  let arr of vendorArray
                   
                "
              >
                <!-- <div class="card  inner-card-shadow">
                                    <div class="card-header list-card-header">
                                        <div class="row">
                                            <div class="col-md-6 col-sm-6 col-6" title="Vendor">
                                                <h5><i class="ts smaller ts-l user"></i>{{arr.VendorName}}</h5>
                                            </div>
                                            <div class="col-md-6 col-sm-6 col-6 text-right align-self-center">
                                                <i class="far fa-eye mr-2" title="View"
                                                    [routerLink]="['/','vendor','create-vendor']"></i>
                                                <i class="far fa-edit mr-2" title="Edit"
                                                    [routerLink]="['/','vendor','create-vendor']"
                                                    [queryParams]="{VendorID: arr.VendorID}"></i>
                                                <i class="far fa-trash-alt" title="Delete"
                                                    (click)="openModal(warningDelete, arr.VendorID)"></i>
                                            </div>
                                        </div>
                                    </div>
        
                                    <div class="card-body card-body-padding small-font">
                                        <div class="row">
                                            <div class="col-lg-2 align-self-center text-center">
                                                <div class="circle-picture ">
                                                    <img class="img-fluid"
                                                        src="{{arr.LogoURL ? _sharedService.baseUrl + arr.LogoURL : _sharedService.default_img}}">
                                                </div>
                                            </div>
                                            <div class="row col-lg-10 small-font">
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">Phone</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.CPPhone}}</p>
                                                </div>
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">Email</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.CPEmail}}</p>
                                                </div>
                                                <div class="col-lg-2 col-sm-6 col-6 pr-0">
                                                    <span class="small bold-font">Vendor Type</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title=""><span *ngIf="arr.IsSellNew">New </span> <span
                                                            *ngIf="arr.IsSellUsed">Used </span></p>
                                                </div>
        
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">Zipcode</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.Zipcode}}</p>
                                                </div>
        
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">Country</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.CountryName}}</p>
                                                </div>
        
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">City</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.CityName}}</p>
                                                </div>
        
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">Address 1</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.Address1}}</p>
                                                </div>
        
                                                <div class="col-lg-2 col-sm-6 col-6">
                                                    <span class="small bold-font">Address 2</span>:
                                                </div>
                                                <div class="col-lg-4 col-sm-6 col-6 p-0">
                                                    <p class="m-0" title="">{{arr.Address2}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->

                <div class="card inner-card-shadow card-list">
                  <div class="card-content">
                    <div class="circle-picture row justify-content-center mt-3">
                      <img
                        class="img-fluid"
                        src="{{
                          arr.LogoURL
                            ? _sharedService.baseUrl + arr.LogoURL
                            : _sharedService.default_img
                        }}"
                      />
                    </div>
                    <div class="mt-3">
                      <h5 class="primary-color text-center" title="Vendor Name">
                        {{ arr.VendorName }}
                      </h5>
                    </div>
                    <div class="card-body pr-1 pb-0 pt-0">
                      <hr />
                      <div class="row justify-content-center">
                        <i
                          class="fas fa-eye primary-font px-2"
                          title="View"
                          [routerLink]="['/', 'vendor', 'view-vendor']"
                          [queryParams]="{ VendorID: arr.VendorID }"
                        ></i>
                        <i
                          class="fas fa-edit primary-font px-2"
                          title="Edit"
                          [routerLink]="['/', 'vendor', 'create-vendor']"
                          [queryParams]="{ VendorID: arr.VendorID }"
                        ></i>
                        <i
                          class="fas fa-trash-alt primary-font px-2"
                          title="Delete"
                          (click)="openModal(warningDelete, arr.VendorID)"
                        ></i>
                      </div>
                      <hr />
                      <div class="row mb-2">
                        <span class="label-color px-2" title="Name"
                          ><i class="fas fa-user primary-font"></i
                        ></span>
                        <span class="">
                          <span class="primary-color px-2" title="">
                            <ng-container>
                              {{ arr.CPFirstName }}
                              {{ arr.CPLastName }}</ng-container
                            >
                          </span>
                        </span>
                      </div>
                      <div class="row mb-2">
                        <span class="label-color px-2" title="Phone"
                          ><i class="fas fa-mobile-alt primary-font"></i
                        ></span>
                        <span class="primary-color px-2">
                          <ng-container> {{ arr.CPPhone }}</ng-container>
                        </span>
                      </div>
                      <!-- <div class="row  mb-2">
                                                <span class="label-color  px-2"><i
                                                        class="fas fa-building primary-font" title="Country"></i> </span>
                                                <span class="  primary-color px-2">{{arr.CityName}}</span>
                                            </div> -->
                      <div class="row mb-2">
                        <span class="label-color px-2"
                          ><i class="ts globe" title="City,Country"></i>
                        </span>
                        <span class="primary-color"
                          >{{ arr.CityName }}, {{ arr.CountryName }}</span
                        >
                      </div>
                      <div class="row mb-2">
                        <span class="label-color px-2"
                          ><i
                            class="fas fa-map-marker-alt primary-font"
                            title="Address"
                          ></i>
                        </span>
                        <span
                          class="primary-color px-2 eclipse"
                          *ngIf="
                            arr.Address1 != undefined && arr.Address1 != '';
                            else elseHyphen
                          "
                          title="{{ arr.Address1 }}"
                          >{{ arr.Address1 }}</span
                        >
                      </div>
                      <div class="row mb-2 mb-3">
                        <span class="label-color px-2"
                          ><i
                            class="fas fa-envelope primary-font"
                            title="Email"
                          ></i>
                        </span>
                        <span class="primary-color px-2 eclipse"
                          >{{ arr.CPEmail }}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
      </div>
    </div>
    <div
      class="row justify-content-center mb-lg-3 mb-5"
      *ngIf="vendorArray != undefined"
    >
      <ngb-pagination
        [(page)]="cPage"
        [pageSize]="_sharedService.pageSize"
        (pageChange)="getAllVendors((filter.PageNumber = $event))"
        [maxSize]="5"
        [collectionSize]="totalVendors"
        [rotate]="true"
        [ellipses]="false"
        [boundaryLinks]="true"
        class="pagination-primary mb-md-5"
      >
      </ngb-pagination>
    </div>
  </div>
</div>
<ng-template #warningDelete let-c="close" let-d="dismiss">
  <div class="adOptionModel" id="adOptionModel" role="document">
    <div class="modal-header">
      <h5 class="modal-title text-center">Delete Vendor</h5>
      <button type="button" class="close" (click)="closeModal()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="fluid-container modal_container">
        <div class="row justify-content-between bottom_margins">
          <div class="col-lg-12 mt-4">
            <h5
              class="text-center col-12 heading-20 bold text-primary-0 m-b-10"
            >
              Are you sure you want to delete this vendor?
            </h5>
            <div class="col-6 float-left text-left">
              <button
                (click)="closeModal()"
                class="a-button btn btn-primary btn-round col-6"
              >
                No
              </button>
            </div>
            <div class="col-6 float-left text-right">
              <button
                (click)="deleteVendor(vendorID)"
                class="a-button btn btn-primary btn-round col-6"
              >
                Yes
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #elseHyphen>
  <span class="px-2">-</span>
</ng-template>
